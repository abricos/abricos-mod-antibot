# АнтиБот модуль для платформы Абрикос

[English README](https://github.com/abricos/abricos-mod-antibot/blob/master/README.md)

Модуль AntiBot для платформы Абрикос позволяет автоматически вычеслять бота 
по IP и/или E-mail осуществляя поиск в локальной базе на предмет совпадения.

Так же имеется возможность импорта базы E-mail адресов с ресурса [www.stopforumspam.com](http://www.stopforumspam.com/)


## Принцип работы

Регистрируется новый пользователь. Платформа проверяет наличие модуля AntiBot и если
находит его, отправляет ему E-mail и IP для поиска в базе ботов.
Если E-mail найден в базе ботов, то платформа ставит флаг бота на этого пользователя, 
что в свою очередь запрещает ему все права.
При этом IP бота так же сохраняется в базе. И если бот попытается зарегистрироваться 
под другим E-mail но с того же IP, он так же будет включен в список ботов.

По этому же механизму происходит блокировка нежелательных пользователей.
Допустим, зарегестрировался троль на сайте. Добавили его в список ботов. Теперь, если 
этот троль регистрируется на другой E-mail, модуль определяет его принадлежность 
по IP и автоматически ставит ему клеймо бота.


## Импорт E-mail с [www.stopforumspam.com](http://www.stopforumspam.com/)

На странице загрузки [www.stopforumspam.com/downloads/](http://www.stopforumspam.com/downloads/)
скачайте файл базы E-mail адресов за необходимый период. Имя файл имеет 
формат *listed_email_[period].zip*

Распакуйте этот файл в папку платформы */cache/stopspam/* и переименуйте 
в *emails.txt*. При этом папка *stopspam* должна иметь права на запись. 

Далее, зайдите в панель управления под админом в раздел Пользователи и нажмите
кнопку **Анализ StopSpam**. В этот момент будет произведен импорт, после которого
платформа проверит существующих пользователей на принадлежность к ботам. Если таковые
найдутся, платформа покажит их предложит добавить их в список ботов.

**Внимание!** Процесс импорта E-mail может доходить до несколько минут, в зависимости от 
объема базы.


## Лицензия
Copyright (c) 2008 Alexander Kuzmin

Licensed under the GPLv2 license
